%!TEX root = ../main.tex
% !TeX spellcheck = en_GB
% Appendix Template
\addtocontents{toc}{\protect\setcounter{tocdepth}{0}}
\renewcommand{\thesection}{\arabic{section}}
\addchap{Svensk sammanfattning} % Main appendix title
\label{app:swed_sum} % Change X to a consecutive letter; for referencing this appendix elsewhere, use \ref{AppendixX}

\addsec{Introduktion}
Maritim frakt kan ses som en av grundpelarna i den moderna ekonomin, eftersom upp till 90\% av dagens frakt går sjövägen \cite{percent_trade}. Den senaste tidens stora framsteg inom sensorteknologi och artificiell intelligens har väckt intresset för utveckling av obemannade fartyg. Dylika fartyg skulle  potentiellt kunna minska de operationella kostnaderna för maritima operationer och samtidigt minska antalet olyckor \cite{manley2008unmanned,marine_casualities_incidents_2017}. Det är därför av yttersta intresse för den maritima industrin att överkomma de utmaningar som obemannade fartyg för med sig. En av dessa utmaningarna är att få fartygen att följa nuvarande sjöfartsregler. Denna avhandling  evaluerar användningen av suddig logik som bas till en algoritm för kollisionsundvikande till sjöss enligt  de internationella sjövägsreglerna (Konvention om de internationella reglerna till förhindrande av sammanstötning till sjöss, 1972) \cite{colreg}.
\addsec{Obemannade fartyg}
Utvecklingen av autonoma fartyg har redan pågått i flera decennier och flera olika metoder samt algoritmer har utvecklats och evaluerats. Majoriteten av projekt har dock resulterat i semi-autonoma fartyg. Semi-autonoma fartyg innebär att en person kan övervaka ett flertal autonoma båtar från land och fjärrstyra dem vid behov. Det betyder att fartyg kan byggas utan en bemannad brygga, duschar, kantin och andra dylika faciliteter som krävs om människor skall vistas ombord under längre tider. Operationella kostnaderna kunde emellertid minskas ännu mer ifall fartygen kunde göras totalt autonoma och inte kräva en övervakare. För att klara detta krävs algoritmer med samma beslutsfattningsförmåga som de mänskliga operatörerna. Denna avhandling koncentrerar sig på beslut angående kollisionsundvikande och antar därför att det autonoma fartyget har full situationsmedvetenhet.
\addsec{De internationella sjövägsreglerna}
Alla fartyg som navigerar på öppna havet och alla vatten tillknutna därtill är tvungna att följa de internationella sjövägsreglerna. Detta gäller också autonoma fartyg. Reglerna är dock skrivna 1972 och för att tolkas av människor, vilket medför utmaningar när dessa skall tolkas av maskiner.

De internationella sjövägsreglerna är uppdelade i fem delar, varav delarna ett till tre är av intresse för denna avhandling. Längden av detta sammandrag tillåter dessvärre inte mer än en genomgång av de regler som är essentiella för kollisionsundvikande, nämligen reglerna 7-17. Dessa definierar kriterierna för vad som klassas som kollisionsrisk samt rekommenderade hastighets och kursändringar vid kollisionsrisk. Vidare specificeras tre scenarion och fartygs roller och obligationer i scenariot i fråga. Scenarierna är upphinnande, stäv emot stäv och skärande kurser. Vid upphinnande skall fartyget med högre fart ändra sin kurs och passera det andra fartyget på endera babord eller styrbord sida. I ett stäv mot stäv scenario skall bägge fartyg korrigera sin kurs till styrbord. Slutligen skall i ett scenario med skärande kurser fartyget med det andra fartyget på styrbord sida korrigera sin kurs mot styrbord. I samtliga scenarier är det andra fartyget ålagt att hålla sin kurs och hastighet \cite{colreg}. I verkligheten är oftast flera fartyg inblandade i dessa situationer och fler regler kan därför vara aktiva samtidigt. I sådana situationer krävs ett helhetsbeslut baserat på gott sjömanskap, vilket är en utmaning för autonoma fartyg.


\addsec{Suddig logik}
Suddig logik utvecklades av \textcite{zadeh1996fuzzy} 1964 och är en gren av logik där propositioner kan vara delvis sanna. Sanningsvärden kan således vara alla reella tal från 0 till 1. Detta för att  enklare kunna efterlikna mänskans abstrakta resonemang.  Det är därmed möjligt att definiera mängder så som  \textit{långa personer}  där objektets medlemskapsvärde beror av hur mycket personens längd avviker från det normala \cite{chen2000introduction}.  Graden av medlemskap för \textit{a} i den suddiga mängden $\fuzzyset{A}$ bestäms av den suddig medlemskapsfunktionen $\mu_{\fuzzyset{A}}(a)$.   Figur \ref{fig:FMF_ex} visar en enkel suddig medlemskapsfunktion för mängden \textit{gamla personer}. En ålder av 90 år ger i detta exempel medlemskapsvärdet 80.

Suddig logik möjliggör  modellering av komplexa system, som vanligtvis är beskrivna med naturligt språk och skrivet för att tolkas av människor. Dylika system kan ofta beskrivas med regler av följande form :

\begin{equation}
    \text{OM premiss , SÅ slutsats}
\end{equation}



\addsubsec{Modell för de internationella sjövägsreglerna}
Denna avhandling baserar sig på en tidigare utvecklad modell av \textcite{perera2010smooth_param,perera2012intelligent}. Modellen består av ca 200 regler, som i sin tur har fyra premisser och två slutsatser var.  Premisserna är relativ bäring från huvudfartyget till målfartyget, målfartygets relativa kurs, distansen mellan fartygen och förhållandet mellan deras hastigheter. De suddiga medlemskapsfunktionerna för premisserna och slutsatserna visualiseras i figurerna \ref{fig:antecedent_fmfs} och \ref{fig:consequent_fmfs}.  I denna avhandling används Mamdanis  slutledningsmetod för att räkna ut ett numeriskt värde för slutsatserna utgående från regelverket, de suddiga medlemskapsfunktionerna och  premissernas numeriska värden.


\addsec{Implementering}
<<<<<<< Updated upstream
För att evaluera användningen av suddig logik vid kollisionsundvikande utvecklades ett suddigt slutledningssystem samt ett ramverk för att simulera situationer som beskrivs i de  internationella sjövägsreglerna. Bägge är implementerade i Python. Slutledningssystemet använder sig av python-biblioteket SciKit-Fuzzy \cite{josh_warner_2017_1002946} för uträkning av kurs och hastighetsändringar utgående från  de för tillfället rådande premisserna. Simuleringen utspelar sig i ett tvådimensionellt kartesiskt koordinatsystem där fartyg representeras av punkter med  kurs och hastighet. Varje fartyg har definierade gränser för max hastighet, svängradie, acceleration och retardation.  Ett tvådimensionellt koordinatsystem valdes eftersom simuleringen inte tar i beaktande väderfenomen. Simulationen uppdateras med en sekunds intervall, varpå  korrektioner för kollisionsundvikande appliceras och fartygens position uppdateras enligt deras momentanhastighet och kurs.   Eftersom situationer kan innefatta fler fartyg och därmed fler regler krävs ett system för att prioritera korrigeringsförslagen. I denna avhandling görs detta med hjälp av viktat aritmetiskt medelvärde. Medelvärdet av alla korrigeringar viktas enligt tid till kollision, baserat på  distansen mellan fartygen och deras relativa hastighet.



\addsec{Evaluering och slutsats}

För att testa systemet för kollisionsundvikande konstruerades fem olika scenarier. Fyra av dessa involverar tre fartyg medan det första endast involverar två fartyg på skärande kurser.  Av de fyra andra scenarierna är tre av typen upphinnande och skärande, i vilket ett fartyg hinner upp ett annat samtidigt som ett tredje fartyg korsar dess väg . Det sista scenariot visar en situation där ett fartyg hinner upp ett annat samtidigt som ett tredje fartyg möter det upphinnande fartyget stäv mot stäv.  Scenarierna baserar sig på scenarier från \textcite{ecolreg_overtaking-and-crossing,ecolreg_overtaking-and-crossing-3,ecolreg_overtaking-and-crossing-2,ecolreg_overtaking-and-head-on}.  Simulationer av scenarierna visar att systemet tar beslut i  enlighet med   internationella sjövägsreglerna vid enkla situationer som endast innefattar en regel.  Kollision undveks också i de scenarier som involverade fler fartyg och därmed regler. Kurs och hastighetskorrigeringarna var däremot inte alltid i enlighet med sjövägsreglerna. Figurerna \ref{fig:overtaking-and-head-on-res} och \ref{fig:overtaking-and-crossing-3-res} visar att fartygen ökat hastigheten för att undvika kollision, medan sjövägsreglerna endast nämner sänkning av hastigheten som en lämplig korrigering. Vidare kan konstateras att antalet korrigeringar ofta blir onödigt högt  eftersom systemet inte klarar av att ta beslut baserat på en fullständig helhetsbild.  Onödiga korrigeringar kan förbrylla manskap vid bemannade fartyg och  autonoma system ombord på andra fartyg.

Felaktiga korrigeringar så som  hastighetsökning istället för sänkning kan till viss mån  bero på dåligt specificerade regler. I detta fall är hastighetsökning med som slutsats i ett flertal regler i regelverket. Syftet med denna avhandling var dock endast att evaluera en befintligt lösning och ändringar i regelverket är därför utanför dess omfattning. Möjligheten att definiera klara OM-SÅ regler, var emellertid en av orsakerna till att just denna algorithm valdes för evaluering.  Vidare forskning är dock  nödvändig för att revidera regelverket och möjligtvis premisserna.


Slutligen konstateras att ytterligare utveckling krävs för att garantera att korrigeringsförslagen är i enighet med  gott sjömanskap för att undvika tvetydigheter. Detta innefattar både revidering av regelverk och bättre hantering av situationer som innefattar fler än två fartyg. Ytterligare testning, gärna integrerat med riktiga moduler för navigering och situationsmedvetenhet, ses också som nödvändigt.